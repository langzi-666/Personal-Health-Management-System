# 个人健康管理系统 - 周开发计划（8周MVP版本）

## 项目概述
大学生毕业设计项目，分8周完成MVP版本开发。
- **前端框架**：Vue.js 3.x + JavaScript
- **后端框架**：Spring Boot
- **数据库**：MySQL 8.0 (root/123456)
- **目标**：完成核心功能，具有可演示性

---

## 第一周：项目初始化与架构搭建

### 周目标
建立前后端项目框架，配置开发环境，搭建数据库。

### 任务列表

#### 1.1 后端项目初始化
- [ ] 创建 Spring Boot 项目骨架（Maven）
- [ ] 配置 application.yml（开发环境）
  - 数据库连接：localhost:3306, root, 123456
  - 端口：8080
  - JPA/MyBatis 配置
- [ ] 添加项目依赖
  - Spring Boot Web
  - MySQL Driver
  - Mybatis Plus
  - Lombok
  - JWT (jjwt)
  - Knife4j (Swagger)
  - Spring Security
- [ ] 创建标准的目录结构
  - controller, service, mapper, entity, dto, utils, config

#### 1.2 前端项目初始化
- [ ] 使用 Vite 创建 Vue 3 项目
- [ ] 安装依赖包
  - axios
  - element-plus (UI组件库)
  - echarts (图表)
  - vue-router
  - pinia (状态管理)
- [ ] 搭建项目目录结构
  - components, views, router, store, api, utils, assets, styles
- [ ] 配置开发服务器（端口 5173）
- [ ] 配置 API 代理（http://localhost:8080）

#### 1.3 数据库初始化
- [ ] 创建数据库 `health_management_system`
- [ ] 执行 init.sql 脚本，创建以下表：
  - users (用户表)
  - weight_records (体重记录)
  - blood_pressure_records (血压记录)
  - blood_glucose_records (血糖记录)
  - exercise_records (运动记录)
  - sleep_records (睡眠记录)
  - diet_records (饮食记录)
  - mental_health_records (心理健康记录)
  - notifications (通知)
  - reminder_rules (提醒规则)
  - alert_rules (告警规则)
- [ ] 验证所有表创建成功

#### 1.4 项目配置与工具类
- [ ] 配置跨域 CORS
- [ ] 创建 JWT 工具类
- [ ] 创建全局异常处理类
- [ ] 创建统一的 API 响应格式类
- [ ] 创建常用工具类（日期、加密、验证等）

#### 1.5 Git 仓库初始化
- [ ] 初始化 Git 仓库
- [ ] 创建 .gitignore 文件
- [ ] 首次提交（项目初始版本）

---

## 第二周：用户认证系统开发

### 周目标
实现用户注册、登录、登出、个人信息管理等基础功能。

### 任务列表

#### 2.1 后端用户认证
- [ ] 创建 User 实体类
- [ ] 创建 UserMapper 和 UserService
- [ ] 实现用户注册接口 `POST /api/auth/register`
  - 邮箱或用户名唯一性检查
  - 密码加密存储（bcrypt）
  - 参数验证
  - 返回用户ID和用户名
- [ ] 实现用户登录接口 `POST /api/auth/login`
  - 验证用户名/邮箱和密码
  - 生成 JWT Token（有效期24小时）
  - 更新 last_login 时间
  - 返回 Token 和用户信息
- [ ] 实现忘记密码接口 `POST /api/auth/reset-password`
  - 邮箱验证（可简化）
  - 重置密码
- [ ] 创建 JWT 验证过滤器
  - 验证 Token 有效性
  - 拦截无效 Token 请求

#### 2.2 后端个人信息管理
- [ ] 实现获取用户信息 `GET /api/users/{id}`
- [ ] 实现更新用户信息 `PUT /api/users/{id}`
  - 修改姓名、性别、身高、体重目标等
- [ ] 实现修改密码接口 `POST /api/users/{id}/change-password`

#### 2.3 前端认证系统
- [ ] 创建登录页面 (Login.vue)
  - 用户名/邮箱输入框
  - 密码输入框
  - 登录按钮
  - 链接到注册页面
- [ ] 创建注册页面 (Register.vue)
  - 用户名、邮箱、密码输入框
  - 密码强度验证
  - 注册按钮
  - 链接回登录页面
- [ ] 创建 Axios 请求拦截器
  - 自动在请求头添加 Authorization Token
  - 处理 401 错误（Token过期）
- [ ] 创建 Vuex/Pinia 状态管理
  - 存储用户信息和 Token
  - 管理认证状态
- [ ] 创建路由守卫
  - 检查登录状态
  - 未登录重定向到登录页

#### 2.4 前端个人信息页面
- [ ] 创建个人信息页面 (Profile.vue)
  - 显示用户信息
  - 编辑和保存功能
  - 修改密码表单
  - 头像上传（可先跳过）

#### 2.5 测试与验证
- [ ] 使用 Postman 或 Swagger UI 测试所有认证 API
- [ ] 测试登录后的 Token 自动注入
- [ ] 测试 Token 过期处理

---

## 第三周：健康数据记录 - 体重与血压

### 周目标
实现体重和血压数据的记录、查询、编辑、删除功能。

### 任务列表

#### 3.1 后端体重管理
- [ ] 创建 Weight 实体类
- [ ] 创建 WeightMapper 和 WeightService
- [ ] 实现添加体重记录 `POST /api/health/weight`
  - 参数：weight, body_fat_rate, record_date, notes
  - 返回记录ID和完整信息
- [ ] 实现查询体重记录列表 `GET /api/health/weight`
  - 支持分页：pageNum, pageSize
  - 支持日期范围过滤：startDate, endDate
  - 返回按日期排序的记录
- [ ] 实现查询单条体重记录 `GET /api/health/weight/{id}`
- [ ] 实现编辑体重记录 `PUT /api/health/weight/{id}`
- [ ] 实现删除体重记录 `DELETE /api/health/weight/{id}`

#### 3.2 后端血压管理
- [ ] 创建 BloodPressure 实体类
- [ ] 创建 BloodPressureMapper 和 BloodPressureService
- [ ] 实现添加血压记录 `POST /api/health/blood-pressure`
  - 参数：systolic, diastolic, pulse, measurement_location, record_date, record_time, notes
  - 自动判断血压状态（正常/偏高/高血压）
- [ ] 实现查询血压记录列表 `GET /api/health/blood-pressure`
  - 支持分页和日期范围过滤
- [ ] 实现编辑和删除血压记录

#### 3.3 前端体重记录页面
- [ ] 创建体重记录页面 (WeightRecord.vue)
  - 表单：输入体重、体脂率、日期、备注
  - 提交按钮调用后端 API
  - 体重记录列表表格
    - 列：日期、体重、体脂率、操作（编辑、删除）
  - 编辑功能：点击行进行编辑
  - 删除功能：删除确认对话框
  - 分页组件

#### 3.4 前端血压记录页面
- [ ] 创建血压记录页面 (BloodPressureRecord.vue)
  - 表单：输入收缩压、舒张压、脉搏、测量位置、时间、备注
  - 血压记录列表表格
    - 列：日期、收缩压、舒张压、脉搏、血压状态、操作
  - 编辑和删除功能
  - 分页组件

#### 3.5 前端导航与布局
- [ ] 创建主布局组件 (Layout.vue)
  - 顶部导航栏（用户菜单、登出）
  - 左侧菜单栏
    - 仪表板
    - 数据记录
      - 体重
      - 血压
      - 血糖
      - 运动
      - 睡眠
      - 饮食
    - 数据分析
    - 设置
- [ ] 配置路由

#### 3.6 测试
- [ ] 测试体重和血压的 CRUD 操作
- [ ] 测试分页和日期过滤
- [ ] 前后端联调测试

---

## 第四周：健康数据记录 - 其他指标

### 周目标
实现血糖、运动、睡眠、饮食、心理健康数据的记录功能。

### 任务列表

#### 4.1 后端血糖管理
- [ ] 创建 BloodGlucose 实体类和 Mapper/Service
- [ ] 实现血糖数据 CRUD 接口
  - POST /api/health/blood-glucose
  - GET /api/health/blood-glucose
  - PUT /api/health/blood-glucose/{id}
  - DELETE /api/health/blood-glucose/{id}

#### 4.2 后端运动管理
- [ ] 创建 Exercise 实体类和 Mapper/Service
- [ ] 实现运动数据 CRUD 接口
  - 支持不同类型的运动
  - 记录时长、强度、卡路里消耗等

#### 4.3 后端睡眠管理
- [ ] 创建 Sleep 实体类和 Mapper/Service
- [ ] 实现睡眠数据 CRUD 接口
  - 记录入睡、起床时间、睡眠质量等

#### 4.4 后端饮食管理
- [ ] 创建 Diet 实体类和 Mapper/Service
- [ ] 实现饮食数据 CRUD 接口
  - 记录食物名称、份量、营养信息

#### 4.5 后端心理健康管理
- [ ] 创建 MentalHealth 实体类和 Mapper/Service
- [ ] 实现心理健康数据 CRUD 接口
  - 记录心情评分、压力等级等

#### 4.6 前端各数据记录页面
- [ ] 创建血糖记录页面 (GlucoseRecord.vue)
- [ ] 创建运动记录页面 (ExerciseRecord.vue)
- [ ] 创建睡眠记录页面 (SleepRecord.vue)
- [ ] 创建饮食记录页面 (DietRecord.vue)
- [ ] 创建心理健康页面 (MentalHealthRecord.vue)
- [ ] 每个页面包含：表单、列表、编辑、删除、分页功能

#### 4.7 测试
- [ ] 测试所有数据类型的 CRUD 操作
- [ ] 前后端联调测试

---

## 第五周：仪表板与数据概览

### 周目标
实现系统首页仪表板，展示用户的健康数据概览和最近记录。

### 任务列表

#### 5.1 后端数据统计接口
- [ ] 创建 AnalysisService 和 AnalysisController
- [ ] 实现获取用户最新数据接口 `GET /api/analysis/latest`
  - 返回最新的体重、血压、血糖等数据
  - 包含基本统计信息（当月平均值等）
- [ ] 实现获取今日统计接口 `GET /api/analysis/today-summary`
  - 运动卡路里消耗
  - 睡眠时长
  - 进食卡路里
  - 饮水记录
- [ ] 实现获取周/月统计接口 `GET /api/analysis/weekly-summary` 和 `GET /api/analysis/monthly-summary`

#### 5.2 前端仪表板页面
- [ ] 创建仪表板页面 (Dashboard.vue)
  - **顶部快捷卡片**：
    - 今日摄入卡路里
    - 今日运动卡路里
    - 睡眠时长
    - 今日步数（如有）
  - **数据概览卡片**：
    - 最新体重 + 变化趋势
    - 最新血压
    - 最新血糖
  - **最近7天图表**：
    - 体重变化趋势折线图
    - 运动卡路里柱状图
  - **快速操作**：
    - 快速按钮进入各数据记录页面

#### 5.3 前端图表展示
- [ ] 集成 ECharts 5.x
- [ ] 实现折线图组件（体重趋势）
- [ ] 实现柱状图组件（运动卡路里）
- [ ] 创建图表工具函数

#### 5.4 测试
- [ ] 测试统计数据的准确性
- [ ] 测试图表的渲染
- [ ] 性能测试（数据量较大时的表现）

---

## 第六周：数据分析与图表

### 周目标
实现多维度数据分析和图表展示功能。

### 任务列表

#### 6.1 后端分析接口开发
- [ ] 实现按日期范围的数据聚合接口 `GET /api/analysis/range`
  - 参数：dataType, startDate, endDate
  - 返回该时间段的数据列表和统计结果
- [ ] 实现对比分析接口 `GET /api/analysis/comparison`
  - 参数：dataType, currentPeriod, previousPeriod
  - 返回当前期与上一期的对比数据
- [ ] 实现数据导出接口 `POST /api/analysis/export`
  - 参数：dataType, startDate, endDate, format (csv/excel)
  - 返回可下载的文件

#### 6.2 前端分析页面
- [ ] 创建数据分析页面 (Analysis.vue)
  - **时间段选择**：
    - 快速选择（最近7天、30天、90天）
    - 自定义日期范围选择
  - **数据类型选择**：
    - Tab 切换不同的健康指标
  - **多种图表展示**：
    - 折线图：趋势变化
    - 柱状图：对比分析
    - 饼图：营养分布（饮食数据）
    - 热力图：运动频率分析
  - **统计信息面板**：
    - 最大值、最小值、平均值
    - 同比增长率
    - 环比增长率

#### 6.3 前端报告生成
- [ ] 实现周报告生成功能
  - 选择周份数
  - 显示该周的数据汇总
  - 支持导出为 PDF（使用 jsPDF）
- [ ] 实现月报告生成功能
- [ ] 实现数据导出功能
  - 支持 CSV 下载

#### 6.4 测试
- [ ] 测试各种图表的绘制
- [ ] 测试数据对比的准确性
- [ ] 测试报告生成和导出功能

---

## 第七周：提醒、通知与健康建议

### 周目标
实现提醒系统、数据异常告警和基础的健康建议功能。

### 任务列表

#### 7.1 后端提醒与告警系统
- [ ] 创建 Reminder 实体和 ReminderMapper/Service
- [ ] 实现创建提醒规则 `POST /api/reminders`
  - 参数：reminderType, reminderTime, frequency, notificationMethod
- [ ] 实现查询提醒规则列表 `GET /api/reminders`
- [ ] 实现编辑和删除提醒规则
- [ ] 创建 Alert 实体和 AlertMapper/Service
- [ ] 实现创建告警规则 `POST /api/alerts`
- [ ] 实现查询告警规则列表 `GET /api/alerts`

#### 7.2 后端通知系统
- [ ] 创建 Notification 实体和 NotificationMapper/Service
- [ ] 实现获取通知列表 `GET /api/notifications`
  - 支持分页
  - 支持按已读/未读过滤
- [ ] 实现标记通知为已读 `PUT /api/notifications/{id}/read`
- [ ] 实现删除通知 `DELETE /api/notifications/{id}`
- [ ] 实现获取未读通知数 `GET /api/notifications/unread-count`

#### 7.3 后端健康建议
- [ ] 创建 HealthAdvice 类存储建议规则
- [ ] 实现生成健康建议接口 `GET /api/advice`
  - 基于用户数据生成建议
  - 参数化的建议规则

#### 7.4 前端提醒管理页面
- [ ] 创建提醒管理页面 (Reminders.vue)
  - 提醒列表
  - 创建提醒表单
  - 编辑和删除提醒
  - 启用/禁用提醒

#### 7.5 前端通知中心
- [ ] 创建通知中心页面 (NotificationCenter.vue)
  - 通知列表（展示最新50条）
  - 按类型过滤（提醒、告警、建议）
  - 按已读状态过滤
  - 点击标记为已读
  - 删除通知
  - 顶部显示未读计数

#### 7.6 前端健康建议页面
- [ ] 创建健康建议页面 (HealthAdvice.vue)
  - 根据用户数据展示个性化建议
  - 分类显示（饮食、运动、睡眠等）
  - 可展开查看详细建议

#### 7.7 前端通知徽章
- [ ] 在导航栏添加通知图标和未读计数徽章
- [ ] 实现定时刷新未读通知数

#### 7.8 测试
- [ ] 测试提醒和告警规则的 CRUD
- [ ] 测试通知的生成和标记
- [ ] 测试建议的生成逻辑

---

## 第八周：功能完善与系统优化

### 周目标
完善各项功能、性能优化、错误处理和最终测试。

### 任务列表

#### 8.1 功能完善
- [ ] 实现用户头像上传功能
  - 后端：创建文件上传接口
  - 前端：在个人信息页面添加头像上传
- [ ] 实现数据批量导入功能
  - 后端：创建批量导入接口
  - 前端：创建导入文件的 UI
- [ ] 完善数据删除提示
- [ ] 添加数据校验提示信息

#### 8.2 前端优化
- [ ] 添加全局加载指示器（请求时显示）
- [ ] 优化表单验证和错误提示
- [ ] 实现响应式设计（移动端适配）
- [ ] 优化图表的响应式显示
- [ ] 添加空状态提示（无数据时）
- [ ] 优化分页组件

#### 8.3 后端优化
- [ ] 添加请求日志记录
- [ ] 优化数据库查询性能
  - 添加合适的索引
  - 使用分页避免大数据集查询
- [ ] 实现通用的分页工具类
- [ ] 添加数据校验注解（@Validated）
- [ ] 完善异常处理

#### 8.4 安全性加强
- [ ] 验证所有输入参数
- [ ] 实现请求频率限制
- [ ] 确保用户只能访问自己的数据
- [ ] 添加审计日志

#### 8.5 文档与部署
- [ ] 编写 API 接口文档（Swagger/Knife4j）
- [ ] 编写前端组件使用说明
- [ ] 编写部署说明
- [ ] 准备演示数据

#### 8.6 测试与修复
- [ ] 进行全面的功能测试
  - 用户认证流程
  - 所有数据 CRUD 操作
  - 数据分析和图表
  - 提醒和通知
- [ ] 测试边界情况和错误处理
- [ ] 性能测试
- [ ] 修复发现的 bug
- [ ] 用户体验测试和优化

#### 8.7 最终准备
- [ ] 整理代码注释
- [ ] 清理无用代码
- [ ] 更新 README 文件
- [ ] 准备项目演示稿
- [ ] 创建项目最终提交

---

## 开发进度追踪表

| 周次 | 主要任务 | 完成度 | 备注 |
|------|---------|--------|------|
| 第1周 | 项目初始化与架构搭建 | 0% | |
| 第2周 | 用户认证系统 | 0% | |
| 第3周 | 体重与血压记录 | 0% | |
| 第4周 | 其他健康数据记录 | 0% | |
| 第5周 | 仪表板与数据概览 | 0% | |
| 第6周 | 数据分析与图表 | 0% | |
| 第7周 | 提醒、通知与建议 | 0% | |
| 第8周 | 功能完善与优化 | 0% | |

---

## 关键技术点总结

### 后端关键点
- JWT 认证和 Spring Security 集成
- MyBatis Plus 的使用和 SQL 优化
- 异常处理和统一响应格式
- 数据库关系设计
- API 接口设计规范

### 前端关键点
- Vue 3 组件化开发
- Axios 请求拦截器和 API 层封装
- 状态管理（Pinia/Vuex）
- ECharts 图表集成
- 表单验证和错误处理
- 路由守卫和权限控制

---

**文档版本**：1.0  
**最后更新**：2025年11月15日
