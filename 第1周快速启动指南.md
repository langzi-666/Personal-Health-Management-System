# 第1周项目 - 快速启动指南

> 个人健康管理系统 第1周已完成项目初始化，本指南将帮你快速启动项目

---

## 📋 前置准备

### 检查环境
```bash
# 检查Java版本 (需要Java 11+)
java -version

# 检查Maven (需要Maven 3.6+)
mvn -version

# 检查Node.js (需要16+)
node -v

# 检查npm (需要7+)
npm -v

# 检查MySQL (需要8.0)
mysql --version
```

### 确保MySQL正在运行
```bash
# Windows (如果MySQL作为服务)
# 检查服务是否运行

# Linux/Mac
sudo systemctl status mysql
# 或
brew services list | grep mysql
```

---

## 🗄️ Step 1: 初始化数据库 (重要!)

### 1.1 使用MySQL客户端连接
```bash
mysql -h localhost -u root -p
# 输入密码：123456
```

### 1.2 执行初始化脚本
```sql
-- 复制以下内容或直接执行文件

SOURCE backend/src/main/resources/sql/init.sql;

-- 或者使用命令行
mysql -h localhost -u root -p123456 < backend/src/main/resources/sql/init.sql
```

### 1.3 验证数据库创建成功
```sql
USE health_management_system;
SHOW TABLES;

-- 应该显示11个表：
-- users
-- weight_records
-- blood_pressure_records
-- blood_glucose_records
-- exercise_records
-- sleep_records
-- diet_records
-- mental_health_records
-- notifications
-- reminder_rules
-- alert_rules
```

---

## 🔧 Step 2: 启动后端服务

### 2.1 进入后端目录
```bash
cd backend
```

### 2.2 使用Maven构建
```bash
# 首次构建 (下载依赖，可能需要5-10分钟)
mvn clean install

# 快速构建 (仅编译)
mvn compile
```

### 2.3 启动Spring Boot应用
```bash
# 方式1：使用Maven插件
mvn spring-boot:run

# 方式2：使用IDE (IntelliJ IDEA / Eclipse)
# 在IDE中打开HealthManagementApplication.java，右键运行

# 方式3：打包后运行
mvn clean package
java -jar target/health-management-system-1.0.0.jar
```

### 2.4 检查后端是否启动成功
```bash
# 应该看到以下信息：
# ╔════════════════════════════════════════╗
# ║   Health Management System Started     ║
# ║   API Doc: http://localhost:8080/doc.html ║
# ╚════════════════════════════════════════╝
```

### 2.5 访问API文档
打开浏览器，访问：http://localhost:8080/doc.html

你应该能看到Knife4j的Swagger UI，显示两个接口：
- GET /api/health - 健康检查
- GET /api/system/info - 系统信息

---

## 🎨 Step 3: 启动前端应用

### 3.1 进入前端目录
```bash
cd frontend
```

### 3.2 安装依赖
```bash
# 使用npm
npm install

# 或使用yarn
yarn install

# 或使用pnpm
pnpm install
```

### 3.3 启动开发服务器
```bash
npm run dev

# 应该看到类似信息：
# VITE v4.4.9  ready in xxx ms
# 
# ➜  Local:   http://localhost:5173/
# ➜  press h to show help
```

### 3.4 在浏览器中打开应用
打开浏览器访问：http://localhost:5173

你应该看到一个欢迎页面，包含：
- 欢迎使用个人健康管理系统
- 登录、注册、检查系统状态按钮
- 系统信息显示

---

## ✅ 验证项目正常工作

### 前端验证
1. 打开 http://localhost:5173
2. 应该看到欢迎页面
3. 点击"检查系统状态"按钮
4. 应该看到成功消息

### 后端验证
1. 打开 http://localhost:8080/doc.html
2. 在Swagger UI中找到健康检查接口
3. 点击"Try it out"并执行
4. 应该看到200响应和成功信息

### 数据库验证
```bash
mysql -h localhost -u root -p123456

USE health_management_system;

-- 验证表
SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'health_management_system';

-- 应该显示11个表
```

---

## 🔗 项目访问地址

| 服务 | 地址 | 说明 |
|-----|------|------|
| **前端应用** | http://localhost:5173 | Vue.js应用 |
| **后端API** | http://localhost:8080 | Spring Boot后端 |
| **API文档** | http://localhost:8080/doc.html | Swagger UI文档 |
| **数据库** | localhost:3306 | MySQL数据库 |

---

## 📝 常见问题

### Q1: Maven依赖下载失败
**A:** 检查网络连接，或修改Maven的settings.xml，更换为阿里云镜像：
```xml
<mirror>
    <id>aliyunmaven</id>
    <mirrorOf>central</mirrorOf>
    <name>Aliyun Maven</name>
    <url>https://maven.aliyun.com/repository/public</url>
</mirror>
```

### Q2: 端口8080或5173已被占用
**A:** 修改配置文件中的端口号
- 后端：修改 `application.yml` 中的 `server.port`
- 前端：修改 `vite.config.js` 中的 `server.port`

### Q3: MySQL连接失败
**A:** 检查以下信息：
- MySQL服务是否正在运行
- 用户名是否为 `root`
- 密码是否为 `123456`
- 检查 `application.yml` 中的数据库连接URL

### Q4: 跨域错误
**A:** 后端已配置CORS，如果仍有问题：
1. 检查浏览器控制台的具体错误信息
2. 确保后端已启动
3. 检查API代理配置是否正确

### Q5: npm install速度太慢
**A:** 修改npm镜像源：
```bash
npm config set registry https://registry.npmmirror.com
npm install
```

---

## 🚀 接下来的步骤

现在项目已成功启动，下一步：

1. **第2周开发**：用户认证系统
   - 实现用户注册API
   - 实现用户登录API
   - 前端登录页面完整实现

2. **熟悉项目结构**：
   - 浏览后端代码组织
   - 查看前端组件结构
   - 理解API调用流程

3. **测试现有功能**：
   - 使用Postman测试API
   - 在前端尝试系统检查
   - 验证数据库连接

---

## 📚 参考资源

- [Spring Boot官方文档](https://spring.io/projects/spring-boot)
- [Vue.js 3官方文档](https://vuejs.org/)
- [Vite官方文档](https://vitejs.dev/)
- [MyBatis Plus官方文档](https://baomidou.com/)
- [Element Plus官方文档](https://element-plus.org/)

---

## 💡 提示

- 保持终端窗口打开，以查看实时日志
- 使用IDE的调试功能进行开发
- 定期检查前后端的console/terminal输出
- 遇到问题时查看详细的错误信息

---

**祝你开发顺利！🎉**

如有任何问题，请参考各项目的README文件或在问题记录中追加新问题。

**下一个检查点**：第2周用户认证系统开发
